{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"+tM(Jbq}TIj3m)IR.%s!\">mode</variable><variable id=\"}ZMdpuYF2YFv0GVrvjCO\">temp</variable><variable id=\"R0ElXU5=?M;H2^MxS#UW\">light_switch</variable><variable id=\"*wt3SJN7!gS5PuBD|{d,\">humid</variable><variable id=\"]=5A_YolDZ!@h3+tallL\">fan_level</variable><variable id=\"t0]-L]Fo?zeq95#UCa97\">light</variable></variables><block type=\"yolobit_basic_forever\" id=\"s2(RRn%k?=1or%crrh[C\" x=\"-1562\" y=\"-638\"><statement name=\"ONSTART\"><block type=\"yolobit_mqtt_connect_wifi\" id=\"X:pwLFLe%q$]u!+Tavm?\"><value name=\"WIFI\"><shadow type=\"text\" id=\"Z2J:#/H6b;cI;IT:5a{M\"><field name=\"TEXT\">wifi</field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text\" id=\"}uqc{u(CRX?P61dBXVG3\"><field name=\"TEXT\">password</field></shadow></value><next><block type=\"yolobit_mqtt_connect_default_servers\" id=\"%+rz/?a},Qn=W-7ih{sQ\"><field name=\"SERVER\">io.adafruit.com</field><value name=\"USERNAME\"><shadow type=\"text\" id=\"JOvT#XS2q7U+qUHQ;/NZ\"><field name=\"TEXT\">hai305</field></shadow></value><value name=\"KEY\"><shadow type=\"text\" id=\"]FRj/MF{$IjXjR@J/`-C\"><field name=\"TEXT\">aio_RTju60YEV7Xwiruw0Tr1nTNjxbUh</field></shadow></value><next><block type=\"aiot_lcd1602_backlight\" id=\".zI}1kbl)Ms*5~_!$L3E\"><field name=\"action\">on</field><next><block type=\"variables_set\" id=\"Z|[Rus#4$qsPkXU4%^p(\"><field name=\"VAR\" id=\"*wt3SJN7!gS5PuBD|{d,\">humid</field><value name=\"VALUE\"><block type=\"math_number\" id=\"t#woe/WjY9EiWvxF.aHw\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"D%xJVb:3tSGT+)?34~1I\"><field name=\"VAR\" id=\"}ZMdpuYF2YFv0GVrvjCO\">temp</field><value name=\"VALUE\"><block type=\"math_number\" id=\"(/v@P%F`r25*d_gNPZ!A\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"(^P-(gO=ENa_n#G3]Y;Z\"><field name=\"VAR\" id=\"t0]-L]Fo?zeq95#UCa97\">light</field><value name=\"VALUE\"><block type=\"math_number\" id=\"!39_CxUH^L=7%6F@C;kG\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"_N77mKasj17yIP02tXeh\"><field name=\"VAR\" id=\"+tM(Jbq}TIj3m)IR.%s!\">mode</field><value name=\"VALUE\"><block type=\"text\" id=\"96:`h[t2Ul;MCB@W*p[+\"><field name=\"TEXT\">MANU</field></block></value><next><block type=\"variables_set\" id=\"?t67@#NO);6[+%nyhZQa\"><field name=\"VAR\" id=\"R0ElXU5=?M;H2^MxS#UW\">light_switch</field><value name=\"VALUE\"><block type=\"text\" id=\"3_g:KTyhAk2#a_Q;X9@(\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"yolobit_events_broadcast_message\" id=\"u-k}TfJ?PBR,KXH}aOTN\"><field name=\"MESSAGE\">1</field><next><block type=\"aiot_minifan\" id=\"gt?`LgkQsM44QV]2U:Gm\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"RcIC-_I-ISEMX2M9v@I!\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_led_tiny_set_all\" id=\"ZLwPiKy1be/KDd$kal.;\"><field name=\"port\">pin0</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"Z}y{=TV`#iT7947;5MwZ\"><field name=\"COLOUR\">#000000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"FOREVER\"><block type=\"yolobit_events_run\" id=\"31hLElA8mb(97qVY5x+C\"><next><block type=\"yolobit_mqtt_check_message\" id=\"RUaw22~k9L(kUR8yBF^N\"><next><block type=\"yolobit_basic_sleep\" id=\"K]5u*bXoxAX%+LHh$QCW\"><value name=\"duration\"><shadow type=\"math_number\" id=\"Gri^#EWiAHl4eTt=R]PJ\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"a??;kKBTi,C@GfJ[abrQ\" x=\"-562\" y=\"-687\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"D%BPiakx;qn;?h/X,-Nw\"><field name=\"NUM\">6</field></shadow></value><statement name=\"ACTION\"><block type=\"yolobit_ir_clear\" id=\"Yx39_v!#[Y7k7-aG,|_r\"><next><block type=\"controls_if\" id=\"~#^@c2bX9He%H=3WFr}~\"><value name=\"IF0\"><block type=\"yolobit_ir_recv\" id=\"`zzjmsNbnlAPm+g@})f8\"><field name=\"remote\">A</field></block></value><statement name=\"DO0\"><block type=\"yolobit_events_broadcast_message\" id=\",UOE^b%eYRJ900GRP/0|\"><field name=\"MESSAGE\">0</field><next><block type=\"variables_set\" id=\"sd1+2#)CM`2X6(-q_Kv9\"><field name=\"VAR\" id=\"+tM(Jbq}TIj3m)IR.%s!\">mode</field><value name=\"VALUE\"><block type=\"text\" id=\"6Xa-g#riRp`$Ke1vQ6C_\"><field name=\"TEXT\">AUTO</field></block></value></block></next></block></statement><next><block type=\"controls_if\" id=\"//=p^l{Y*Ytlz8DgrHn{\"><value name=\"IF0\"><block type=\"yolobit_ir_recv\" id=\"CiAV-s?!Ke99I?H(2L|{\"><field name=\"remote\">C</field></block></value><statement name=\"DO0\"><block type=\"yolobit_events_broadcast_message\" id=\",2pD2`SLj@QK3w(R/v~+\"><field name=\"MESSAGE\">1</field><next><block type=\"variables_set\" id=\",?004jO)8zzj:@KpnccQ\"><field name=\"VAR\" id=\"+tM(Jbq}TIj3m)IR.%s!\">mode</field><value name=\"VALUE\"><block type=\"text\" id=\"A~DsP@Oj6]1MMm:,lR.T\"><field name=\"TEXT\">MANU</field></block></value></block></next></block></statement><next><block type=\"controls_if\" id=\"+`AjNWb!]VqW$-(x{ij4\"><value name=\"IF0\"><block type=\"yolobit_ir_recv\" id=\"d1RNa(y3nmUhI?|{jiBI\"><field name=\"remote\">B</field></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"ie%0`!^-O7)_#nEUX@#x\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"d_ceiw9E~G`Q7+%V/c$9\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"CUq}}NG^6C`:q*[LxJTp\"><field name=\"VAR\" id=\"R0ElXU5=?M;H2^MxS#UW\">light_switch</field></block></value><value name=\"B\"><block type=\"math_number\" id=\":Lm5ZrKv,gG6u)!j@87W\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_led_tiny_set_all\" id=\"QD=0P8|f%m/J/N]G!fJ`\"><field name=\"port\">pin0</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"*PWFlxOjk/W]hhH21sM%\"><field name=\"COLOUR\">#000000</field></shadow></value><next><block type=\"variables_set\" id=\"F-gA4YWC9.w2R;`pAfcJ\"><field name=\"VAR\" id=\"R0ElXU5=?M;H2^MxS#UW\">light_switch</field><value name=\"VALUE\"><block type=\"math_number\" id=\"1:Zl_Fs5=V8(;::_HUM!\"><field name=\"NUM\">0</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"aiot_led_tiny_set_all\" id=\"?Py=C5)qD%@UKN$L]*|6\"><field name=\"port\">pin0</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"Ro:`#`dKWNI%%,,biv?t\"><field name=\"COLOUR\">#ffffff</field></shadow></value><next><block type=\"variables_set\" id=\"igHs]ITgoqNc#tDmeW#w\"><field name=\"VAR\" id=\"R0ElXU5=?M;H2^MxS#UW\">light_switch</field><value name=\"VALUE\"><block type=\"math_number\" id=\"_Ag}?1ZS(+)nF5Vl=s$a\"><field name=\"NUM\">1</field></block></value></block></next></block></statement></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"}l6rJl(b+CYMrZ_}5bha\" x=\"-2162\" y=\"-387\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"FU2D#URZ0TCNRa(lM+Bh\"><field name=\"NUM\">1</field></shadow></value><statement name=\"ACTION\"><block type=\"yolobit_mqtt_publish\" id=\"Bd%d`{Nm%Rz0L@C%Ahs0\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"fkNE,Hudk].`~R++i{iK\"><field name=\"TEXT\">Hello</field></shadow><block type=\"variables_get\" id=\"O6]o3VP92wdd.sPs%LW9\"><field name=\"VAR\" id=\"}ZMdpuYF2YFv0GVrvjCO\">temp</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"NVs.w_HC6ucjfpl{;xAu\"><field name=\"TEXT\">sensor_temp</field></shadow></value><next><block type=\"yolobit_mqtt_publish\" id=\"MvlZ;RMq64Y66zvwAjuc\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"TnQU48xBfc:x8vwZq-h1\"><field name=\"TEXT\">Hello</field></shadow><block type=\"variables_get\" id=\"6LZd`R?7[H:%7RLe$SH?\"><field name=\"VAR\" id=\"*wt3SJN7!gS5PuBD|{d,\">humid</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"#zw,AkC9Hs]S1dP1+@)f\"><field name=\"TEXT\">sensor_humid</field></shadow></value><next><block type=\"yolobit_mqtt_publish\" id=\"[j9DlA;#s~%-O~GNJCwr\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"f;@AQ-gUOeiuiWsnv=Qe\"><field name=\"TEXT\">Hello</field></shadow><block type=\"variables_get\" id=\"P-=/Z-U4*i^y?s[gepQa\"><field name=\"VAR\" id=\"t0]-L]Fo?zeq95#UCa97\">light</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"xtc{f{`9zwkZv#ou`5%x\"><field name=\"TEXT\">sensor_light</field></shadow></value></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"sfA+Cf5Gmmg8deTSC:EO\" x=\"-512\" y=\"-112\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"5%rt.qmx1H@Y!_j9+K3v\"><field name=\"NUM\">6</field></shadow></value><statement name=\"ACTION\"><block type=\"aiot_dht_measure\" id=\"7tIKQ{HimjvL|DjVJX9Z\"><next><block type=\"variables_set\" id=\"{KTHEf=~_zLQ_EZUM;^`\"><field name=\"VAR\" id=\"}ZMdpuYF2YFv0GVrvjCO\">temp</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"(CcoP=7I8v)z5PeC)(Sn\"><field name=\"DATA\">TEMP</field></block></value><next><block type=\"variables_set\" id=\"Z*x:yD0L/`$++l_rNhoW\"><field name=\"VAR\" id=\"*wt3SJN7!gS5PuBD|{d,\">humid</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\")`nm,3V$^%~|3CJGFa#]\"><field name=\"DATA\">TEMP</field></block></value><next><block type=\"variables_set\" id=\";4l:%|TZNUpRG{K8V~n^\"><field name=\"VAR\" id=\"t0]-L]Fo?zeq95#UCa97\">light</field><value name=\"VALUE\"><block type=\"aiot_light_sensor\" id=\"0Xa.qsQJDt1OeoM:jgQ8\"><field name=\"NAME\">pin0</field></block></value></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_events_message\" id=\"4lc~n))V}i?R?9n1Qff1\" x=\"-1587\" y=\"-38\"><field name=\"MESSAGE\">0</field><statement name=\"ACTION\"><block type=\"controls_if\" id=\"nDj*ZfN9VEV-G:7]~,aO\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"9])qX:~,Ospt6~E{UhU~\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"rhs`()0:AZ2ie`vK@~ht\"><field name=\"VAR\" id=\"}ZMdpuYF2YFv0GVrvjCO\">temp</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"TJ4k|mKp/[6R0q*(Ym-s\"><field name=\"NUM\">25</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"*3+Dx^jnxYZy.GB3s.5)\"><field name=\"NAME\">pin0</field><value name=\"percent\"><shadow type=\"math_number\" id=\"w^@`9Y?+O1jgc{0!?F/q\"><field name=\"NUM\">0</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"controls_if\" id=\"wBVC][,LjYta[$YT-s?s\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"b2SuWZw%b#O$oxP~V;7*\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"XAp)_^*U0;QhkvnpUf.5\"><field name=\"VAR\" id=\"}ZMdpuYF2YFv0GVrvjCO\">temp</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"UxGIpgAMqd0ZBA~a(q3m\"><field name=\"NUM\">30</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"ty9RU27bQ[hAj!-+yBNJ\"><field name=\"NAME\">pin0</field><value name=\"percent\"><shadow type=\"math_number\" id=\"!X!uW%{ye3Rctr~]/CF)\"><field name=\"NUM\">25</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"controls_if\" id=\"^a)?Z-:BGzVO(0:JU=E~\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"{|$B**KfGZ#j{6nJ#oqk\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"W~_CXdcPQyvm=!9y=_O:\"><field name=\"VAR\" id=\"}ZMdpuYF2YFv0GVrvjCO\">temp</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"*B#*2)S.uvY}W!R@pyjA\"><field name=\"NUM\">35</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"2X~us@kmrh=bUmu7O5US\"><field name=\"NAME\">pin0</field><value name=\"percent\"><shadow type=\"math_number\" id=\"Tr:DnWOoJZ$,b.z(+2:|\"><field name=\"NUM\">50</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"controls_if\" id=\"~wkWE-eZtbxD1[VA|/q%\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"M#]Y)`oBJZ]hIvB[^Aav\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"0sLfTwcn])9*1w_:?r,;\"><field name=\"VAR\" id=\"}ZMdpuYF2YFv0GVrvjCO\">temp</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"GJak%baL2K4$G3_!?%#!\"><field name=\"NUM\">40</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"[=o`@WjTgCi2:=hk.h@/\"><field name=\"NAME\">pin0</field><value name=\"percent\"><shadow type=\"math_number\" id=\"EfPG2m)-^#/kNvW-bZ8N\"><field name=\"NUM\">75</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"aiot_minifan\" id=\"g*96cA.uH$xmikvS.,(}\"><field name=\"NAME\">pin0</field><value name=\"percent\"><shadow type=\"math_number\" id=\"hvxA{q}ufIljjgC8aAq$\"><field name=\"NUM\">100</field></shadow></value></block></statement></block></statement></block></statement></block></statement><next><block type=\"yolobit_basic_sleep\" id=\"_|~3^-#zYAe-bo(bM#NJ\"><value name=\"duration\"><shadow type=\"math_number\" id=\"t)}NcG1r/u;gy(Gh2hiU\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"(ngq=A[K~j8]:DOkqF-D\" x=\"-513\" y=\"113\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"=Xr8X,BCD-{O0:eyu3@G\"><field name=\"NUM\">6</field></shadow></value><statement name=\"ACTION\"><block type=\"aiot_lcd1602_clear\" id=\"+IbI{B`fh]|KEYL;L40M\"><next><block type=\"aiot_lcd1602_display\" id=\"Lglv.TxIf$Jm%!ozBaPx\"><value name=\"string\"><shadow type=\"text\" id=\"X^@.GddmHl{$=rY7}Hv@\"><field name=\"TEXT\">Hello</field></shadow><block type=\"text_join\" id=\"lk)h#hTz[8yBp[1e1^ek\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\";vH2NHMW]!{)X6zECgou\"><field name=\"TEXT\">MODE:</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"@3%!m]ZzHsj#sY{3B%X$\"><field name=\"VAR\" id=\"+tM(Jbq}TIj3m)IR.%s!\">mode</field></block></value></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"FNqM|/8pTvf}AWLi@%@d\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"1K/.6G$W*MyO%WQ$-m$B\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"u}{YUN0[Ui0/LJY]Rqnn\"><value name=\"string\"><shadow type=\"text\" id=\":!|5i[):f}lXR^p9QOAP\"><field name=\"TEXT\">Hello</field></shadow><block type=\"text_join\" id=\"Q5Z_kR}_/|I@f!E.X?Ht\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"O9ucHw$:TM;XbXV+#5ay\"><field name=\"TEXT\">T:</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"*m7+8j`qmmc,7z2V1te=\"><field name=\"VAR\" id=\"}ZMdpuYF2YFv0GVrvjCO\">temp</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"@1=nVuAwxZ7yPHi?=g-I\"><field name=\"TEXT\"></field></block></value><value name=\"ADD3\"><block type=\"text\" id=\",ua$/_xgPQzJ6T8Z!wQG\"><field name=\"TEXT\">H:</field></block></value><value name=\"ADD4\"><block type=\"variables_get\" id=\"_$xYb5vMP2J7qGISJX,o\"><field name=\"VAR\" id=\"*wt3SJN7!gS5PuBD|{d,\">humid</field></block></value></block></value><value name=\"X\"><shadow type=\"math_number\" id=\");CHOMiP1),GP~Vp8;kh\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"KKIKy?1fGf|#C$`ipFF=\"><field name=\"NUM\">1</field></shadow></value></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"C,SCKm#`+}3.3tG*9u[p\" x=\"-688\" y=\"462\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"G(EAjGQDX#h1+-FmeC$Q\"><field name=\"NUM\">1</field></shadow></value><statement name=\"ACTION\"><block type=\"yolobit_mqtt_on_receive_message\" id=\"$9sL!DSul`NxmUytVm,0\"><field name=\"message\" id=\"+tM(Jbq}TIj3m)IR.%s!\">mode</field><value name=\"TOPIC\"><shadow type=\"text\" id=\",*9_8!nvL@-D_f`YPAdB\"><field name=\"TEXT\">mode</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"0sd1:7ZqnyQ5DT_shU`W\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"]NOX66FaAlzkFHFI|D?m\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"5m#v|Gpi0#USOx4WnOSs\"><field name=\"VAR\" id=\"+tM(Jbq}TIj3m)IR.%s!\">mode</field></block></value><value name=\"B\"><block type=\"text\" id=\"+2?r7.T^+8%ddJp5z_Gf\"><field name=\"TEXT\">MANU</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_events_broadcast_message\" id=\"kA25+4!_tgv,oTsBmYqs\"><field name=\"MESSAGE\">1</field></block></statement><statement name=\"ELSE\"><block type=\"yolobit_events_broadcast_message\" id=\"sDmX]doK?8b2i]NvkC4k\"><field name=\"MESSAGE\">0</field></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"$+Rhv`-TaSYB{#/p}dK7\"><field name=\"message\" id=\"R0ElXU5=?M;H2^MxS#UW\">light_switch</field><value name=\"TOPIC\"><shadow type=\"text\" id=\")-I+)^_FkN6A-l49lL?+\"><field name=\"TEXT\">device-light</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"d~-KKfN[Q:?c/4%U[.Ex\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"`GM[uJ^89R-W2}n(cw`d\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"vrm9Q[cD+PK@jR@;79s`\"><field name=\"VAR\" id=\"R0ElXU5=?M;H2^MxS#UW\">light_switch</field></block></value><value name=\"B\"><block type=\"text\" id=\"?D9^wpI84YA#83Us/|/T\"><field name=\"TEXT\">ON</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_led_tiny_set_all\" id=\"g{O2uf=RkUp5df{;#~EN\"><field name=\"port\">pin0</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"GIP7Rz.p%`u$-cYL,e,q\"><field name=\"COLOUR\">#ffffff</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"aiot_led_tiny_set_all\" id=\"t|_}-2Et7!Gj%;?KOi]V\"><field name=\"port\">pin0</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"e:5m:sPFYFVZ]Wi.DtDQ\"><field name=\"COLOUR\">#000000</field></shadow></value></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"YTa39:a?:5(6J(a?)m$t\"><field name=\"message\" id=\"]=5A_YolDZ!@h3+tallL\">fan_level</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"YHp.]teY}{j:004~X/o{\"><field name=\"TEXT\">device-fan</field></shadow></value><statement name=\"ACTION\"><block type=\"aiot_minifan\" id=\"aJx2`L,uH2:uiBGb|jg_\"><field name=\"NAME\">pin0</field><value name=\"percent\"><shadow type=\"math_number\" id=\"g$P]_{Pez~{@n5;~49[z\"><field name=\"NUM\">75</field></shadow><block type=\"variables_get\" id=\"43_74EB@O.D1WmnNjS(3\"><field name=\"VAR\" id=\"]=5A_YolDZ!@h3+tallL\">fan_level</field></block></value></block></statement></block></next></block></next></block></statement></block><block type=\"yolobit_events_message\" id=\"`5.$@[=-R}z7$yI/KLQv\" x=\"-1563\" y=\"537\"><field name=\"MESSAGE\">1</field><statement name=\"ACTION\"><block type=\"yolobit_ir_clear\" id=\"E%96I^u8MM]Dn=JXqks3\"><next><block type=\"controls_if\" id=\".YpU%H9z@qMC.(wb{s!s\"><value name=\"IF0\"><block type=\"yolobit_ir_recv\" id=\"ibw=vvi:S|3vobu(j@e)\"><field name=\"remote\">0</field></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"?p[j6c{`!H@ar;fvxM3?\"><field name=\"NAME\">pin0</field><value name=\"percent\"><shadow type=\"math_number\" id=\"`G+kdG%l,ER5-pM!Wf[]\"><field name=\"NUM\">0</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"tOwrj%OThS`I![wObx.w\"><value name=\"IF0\"><block type=\"yolobit_ir_recv\" id=\"5v[LMfB~XE+g+*Z).aK$\"><field name=\"remote\">1</field></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"0373i^o`0h88T0}wX:jD\"><field name=\"NAME\">pin0</field><value name=\"percent\"><shadow type=\"math_number\" id=\"7fLYx@gu($R4*-UvwKBE\"><field name=\"NUM\">25</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\":l~Tj05uu_TBc+4Fa8I2\"><value name=\"IF0\"><block type=\"yolobit_ir_recv\" id=\"b?#{0m7hO,G3+y-Aca1i\"><field name=\"remote\">2</field></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"Lb@Iehqpy0/.d]5/y^)w\"><field name=\"NAME\">pin0</field><value name=\"percent\"><shadow type=\"math_number\" id=\"sb1oz([nIHw:9JlPH_r(\"><field name=\"NUM\">50</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"6L#@b#Nm)*~7HuDTC.8*\"><value name=\"IF0\"><block type=\"yolobit_ir_recv\" id=\"s0Qx:aiDaxPz3Sng+!*2\"><field name=\"remote\">3</field></block></value><next><block type=\"controls_if\" id=\"(H,=Z%CW25Ql@Kn0z;Fs\"><value name=\"IF0\"><block type=\"yolobit_ir_recv\" id=\"|K*KN/LMfO`T1D-}p,Z2\"><field name=\"remote\">4</field></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"DUkJU+Az+tgZs.ag5WQR\"><field name=\"NAME\">pin0</field><value name=\"percent\"><shadow type=\"math_number\" id=\"~7g:$SH9WuZ?Rz/PKxI1\"><field name=\"NUM\">100</field></shadow></value></block></statement><next><block type=\"yolobit_basic_sleep\" id=\"C~A)f%Ue=,FyE}j_svd/\"><value name=\"duration\"><shadow type=\"math_number\" id=\"]}@..t`Af0Pa5%e0ayI]\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","python":"from mqtt import *\nfrom aiot_lcd1602 import LCD1602\nfrom event_manager import *\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom aiot_rgbled import RGBLed\nimport time\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\n\naiot_lcd1602 = LCD1602()\n\nevent_manager.reset()\n\ntiny_rgb = RGBLed(pin0.pin, 4)\n\ndef on_event_timer_callback_a_k_K_B_T():\n  global mode, temp, light_switch, humid, fan_level, light\n  ir_rx.clear_code()\n  if ir_rx.get_code() == IR_REMOTE_A:\n    event_manager.broadcast_message(0)\n    mode = 'AUTO'\n  if ir_rx.get_code() == IR_REMOTE_C:\n    event_manager.broadcast_message(1)\n    mode = 'MANU'\n  if ir_rx.get_code() == IR_REMOTE_B:\n    if light_switch == 1:\n      tiny_rgb.show(0, hex_to_rgb('#000000'))\n      light_switch = 0\n    else:\n      tiny_rgb.show(0, hex_to_rgb('#ffffff'))\n      light_switch = 1\n\nevent_manager.add_timer_event(6000, on_event_timer_callback_a_k_K_B_T)\n\ndef on_event_timer_callback_l_r_J_l_b():\n  global mode, temp, light_switch, humid, fan_level, light\n  mqtt.publish('sensor_temp', temp)\n  mqtt.publish('sensor_humid', humid)\n  mqtt.publish('sensor_light', light)\n\nevent_manager.add_timer_event(1000, on_event_timer_callback_l_r_J_l_b)\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\ndef on_event_timer_callback_s_f_A_C_f():\n  global mode, temp, light_switch, humid, fan_level, light\n  aiot_dht20.read_dht20()\n  temp = aiot_dht20.dht20_temperature()\n  humid = aiot_dht20.dht20_temperature()\n  light = round(translate((pin0.read_analog()), 0, 4095, 0, 100))\n\nevent_manager.add_timer_event(6000, on_event_timer_callback_s_f_A_C_f)\n\ndef on_event_message_callback_l_c_n_V_i():\n  global mode, temp, light_switch, humid, fan_level, light\n  if temp < 25:\n    pin0.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  else:\n    if temp < 30:\n      pin0.write_analog(round(translate(25, 0, 100, 0, 1023)))\n    else:\n      if temp < 35:\n        pin0.write_analog(round(translate(50, 0, 100, 0, 1023)))\n      else:\n        if temp < 40:\n          pin0.write_analog(round(translate(75, 0, 100, 0, 1023)))\n        else:\n          pin0.write_analog(round(translate(100, 0, 100, 0, 1023)))\n  time.sleep_ms(1000)\n\nevent_manager.add_message_event(0, on_event_message_callback_l_c_n_V_i)\n\ndef on_event_timer_callback_n_g_q_A_K():\n  global mode, temp, light_switch, humid, fan_level, light\n  aiot_lcd1602.clear()\n  aiot_lcd1602.move_to(0, 0)\n  aiot_lcd1602.putstr(('MODE:' + str(mode)))\n  aiot_lcd1602.move_to(0, 1)\n  aiot_lcd1602.putstr((''.join([str(x) for x in ['T:', temp, '', 'H:', humid]])))\n\nevent_manager.add_timer_event(6000, on_event_timer_callback_n_g_q_A_K)\n\ndef on_mqtt_message_receive_callback__mode_(mode):\n  global temp, light_switch, humid, fan_level, light\n  if mode == 'MANU':\n    event_manager.broadcast_message(1)\n  else:\n    event_manager.broadcast_message(0)\n\ndef on_mqtt_message_receive_callback__device_light_(light_switch):\n  global mode, temp, humid, fan_level, light\n  if light_switch == 'ON':\n    tiny_rgb.show(0, hex_to_rgb('#ffffff'))\n  else:\n    tiny_rgb.show(0, hex_to_rgb('#000000'))\n\ndef on_mqtt_message_receive_callback__device_fan_(fan_level):\n  global mode, temp, light_switch, humid, light\n  pin0.write_analog(round(translate(fan_level, 0, 100, 0, 1023)))\n\ndef on_event_timer_callback_C_S_C_K_m():\n  global mode, temp, light_switch, humid, fan_level, light\n  mqtt.on_receive_message('mode', on_mqtt_message_receive_callback__mode_)\n  mqtt.on_receive_message('device-light', on_mqtt_message_receive_callback__device_light_)\n  mqtt.on_receive_message('device-fan', on_mqtt_message_receive_callback__device_fan_)\n\nevent_manager.add_timer_event(1000, on_event_timer_callback_C_S_C_K_m)\n\ndef on_event_message_callback_R_z_y_I_K():\n  global mode, temp, light_switch, humid, fan_level, light\n  ir_rx.clear_code()\n  if ir_rx.get_code() == IR_REMOTE_0:\n    pin0.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  if ir_rx.get_code() == IR_REMOTE_1:\n    pin0.write_analog(round(translate(25, 0, 100, 0, 1023)))\n  if ir_rx.get_code() == IR_REMOTE_2:\n    pin0.write_analog(round(translate(50, 0, 100, 0, 1023)))\n  if ir_rx.get_code() == IR_REMOTE_3:\n    pass\n  if ir_rx.get_code() == IR_REMOTE_4:\n    pin0.write_analog(round(translate(100, 0, 100, 0, 1023)))\n  time.sleep_ms(1000)\n\nevent_manager.add_message_event(1, on_event_message_callback_R_z_y_I_K)\n\nif True:\n  mqtt.connect_wifi('wifi', 'password')\n  mqtt.connect_broker(server='io.adafruit.com', port=1883, username='hai305', password='aio_RTju60YEV7Xwiruw0Tr1nTNjxbUh')\n  aiot_lcd1602.backlight_on()\n  humid = 0\n  temp = 0\n  light = 0\n  mode = 'MANU'\n  light_switch = 'OFF'\n  event_manager.broadcast_message(1)\n  pin10.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  tiny_rgb.show(0, hex_to_rgb('#000000'))\n\nwhile True:\n  event_manager.run()\n  mqtt.check_message()\n  time.sleep_ms(1000)\n","name":"Da_nganh","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_ir","src":"https://github.com/AITT-VN/yolobit_extension_ir","name":"IR Remote","description":"Mục mở rộng của Yolo:Bit sử dụng IR remote"},{"id":"yolobit-AITT-VN-yolobit_extension_ir","src":"https://github.com/AITT-VN/yolobit_extension_ir","name":"IR Remote","description":"Mục mở rộng của Yolo:Bit sử dụng IR remote"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"}],"device":"yolobit"}